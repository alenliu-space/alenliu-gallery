{{/* SAFE VERSION - NO EXIF / NO FIT / NO RECURSION */}}

<div class="gallery">
  {{ range .Resources.ByType "image" }}
    {{ $img := . }}

    <figure class="gallery-item">
      <a href="{{ $img.RelPermalink }}" target="_blank">
        <img src="{{ $img.RelPermalink }}" loading="lazy">
      </a>

      {{ with $img.Title }}
        <figcaption>{{ . }}</figcaption>
      {{ end }}
    </figure>

  {{ end }}
</div>

<style>
.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:10px
}
.gallery img{
  width:100%;
  height:auto;
  border-radius:6px
}
figcaption{
  font-size:12px;
  opacity:.7;
}
</style>
